<% title "Books" %>

<div class="flex items-start">
  <h1 class="font-serif text-4xl">Books</h1>
  <% if user_signed_in? %>
    <span class="mt-2 ml-4"><%= link_to 'Add New Book', new_book_path %></span>
  <% end %>
</div>
<p class="mt-0 text-lg">
  I sometimes consume multiple things at a time while other times I can take months to get through one thing *shrug*.
  This is a list of novels and comics I am reading. Enjoy!
</p>

<h2>Fiction</h2>
<ul>
  <% @fiction.each do |book| %>
    <li>
      <%= link_to book.title_and_author, book.link, target: "_blank" %>
      <% if user_signed_in? %>
        <%= link_to 'Edit', edit_book_path(book), class: 'text-blue-500 no-thick-link' %>
        <%= button_to 'Delete', book_path(book), method: :delete, data: { confirm: "Are you sure?", turbo_confirm: "Are you sure?" }, class: 'text-red-500' %>
      <% end %>
    </li>
  <% end %>
</ul>

<h2>Non-Fiction</h2>
<ul>
  <% @nonfiction.each do |book| %>
    <li>
      <%= link_to book.title_and_author, book.link, target: "_blank" %>
      <% if user_signed_in? %>
        <%= link_to 'Edit', edit_book_path(book), class: 'text-blue-500 no-thick-link' %>
        <%= button_to 'Delete', book_path(book), method: :delete, data: { confirm: "Are you sure?", turbo_confirm: "Are you sure?" }, class: 'text-red-500' %>
      <% end %>
    </li>
  <% end %>
</ul>

<h2>Comics</h2>
<ul>
  <% @comics.each do |book| %>
    <li>
      <%= link_to book.title_and_author, book.link, target: "_blank" %>
      <% if user_signed_in? %>
        <%= link_to 'Edit', edit_book_path(book), class: 'text-blue-500 no-thick-link' %>
        <%= button_to 'Delete', book_path(book), method: :delete, data: { confirm: "Are you sure?", turbo_confirm: "Are you sure?" }, class: 'text-red-500' %>
      <% end %>
    </li>
  <% end %>